"use strict";(self.webpackChunk_micro_snake_plugin_wildcard=self.webpackChunk_micro_snake_plugin_wildcard||[]).push([[705],{654:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "fN": () => (/* reexport safe */ _src__WEBPACK_IMPORTED_MODULE_0__.fN),\n/* harmony export */   "tl": () => (/* reexport safe */ _src__WEBPACK_IMPORTED_MODULE_0__.tl)\n/* harmony export */ });\n/* harmony import */ var _src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(648);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWljcm8tc25ha2UvcGx1Z2luLXdpbGRjYXJkLy4uL3N0b3JlL2luZGV4LnRzP2UwMTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9zcmMnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///654\n')},460:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "t": () => (/* binding */ CONSTANTS)\n/* harmony export */ });\n/* unused harmony export velocityByKeyCode */\nconst CONSTANTS = {\n    gridSize: 20,\n    tileSizeMultiplier: 0.9,\n    get tileSize() {\n        return this.gridSize * this.tileSizeMultiplier;\n    },\n    get canvasSize() {\n        return this.gridSize * this.gridSize;\n    },\n    get startPosition() {\n        return { x: this.gridSize / 2, y: this.gridSize / 2 };\n    },\n    startFps: 6,\n    startTailSize: 5\n};\nconst velocityByKeyCode = {\n    // these should really account for the tileSize\n    37: { x: -1, y: 0 },\n    38: { x: 0, y: -1 },\n    39: { x: 1, y: 0 },\n    40: { x: 0, y: 1 }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYwLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BtaWNyby1zbmFrZS9wbHVnaW4td2lsZGNhcmQvLi4vc3RvcmUvc3JjL2dhbWVDb25zdGFudHMudHM/OTI0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQ09OU1RBTlRTID0ge1xuICAgIGdyaWRTaXplOiAyMCxcbiAgICB0aWxlU2l6ZU11bHRpcGxpZXI6IDAuOSxcbiAgICBnZXQgdGlsZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRTaXplICogdGhpcy50aWxlU2l6ZU11bHRpcGxpZXI7XG4gICAgfSxcbiAgICBnZXQgY2FudmFzU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZFNpemUgKiB0aGlzLmdyaWRTaXplO1xuICAgIH0sXG4gICAgZ2V0IHN0YXJ0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHRoaXMuZ3JpZFNpemUgLyAyLCB5OiB0aGlzLmdyaWRTaXplIC8gMiB9O1xuICAgIH0sXG4gICAgc3RhcnRGcHM6IDYsXG4gICAgc3RhcnRUYWlsU2l6ZTogNVxufTtcbmV4cG9ydCBjb25zdCB2ZWxvY2l0eUJ5S2V5Q29kZSA9IHtcbiAgICAvLyB0aGVzZSBzaG91bGQgcmVhbGx5IGFjY291bnQgZm9yIHRoZSB0aWxlU2l6ZVxuICAgIDM3OiB7IHg6IC0xLCB5OiAwIH0sXG4gICAgMzg6IHsgeDogMCwgeTogLTEgfSxcbiAgICAzOTogeyB4OiAxLCB5OiAwIH0sXG4gICAgNDA6IHsgeDogMCwgeTogMSB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///460\n')},896:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* unused harmony exports GameStore, GameStoreInstance, GameStoreContext */\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(217);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(927);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _gameConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(460);\n\n\n\n// without configuring enforceActions it would be possible to modify any observable from anywhere\n(0,mobx__WEBPACK_IMPORTED_MODULE_0__.configure)({ enforceActions: 'observed' });\n// base class\nclass GameStore {\n    constructor() {\n        this.gridSize = _gameConstants__WEBPACK_IMPORTED_MODULE_2__/* .CONSTANTS.gridSize */ .t.gridSize;\n        // initial game state, player is centered with no velocity\n        this.playerPosition = _gameConstants__WEBPACK_IMPORTED_MODULE_2__/* .CONSTANTS.startPosition */ .t.startPosition;\n        this.velocity = {\n            x: 0,\n            y: 0\n        };\n        this.trail = [_gameConstants__WEBPACK_IMPORTED_MODULE_2__/* .CONSTANTS.startPosition */ .t.startPosition];\n        this.tailSize = _gameConstants__WEBPACK_IMPORTED_MODULE_2__/* .CONSTANTS.startTailSize */ .t.startTailSize;\n        // housekeeping to control animation\n        this.running = false;\n        // use to control fps and therefore game speed\n        this.lastFrameTime = Date.now();\n        this.fps = _gameConstants__WEBPACK_IMPORTED_MODULE_2__/* .CONSTANTS.startFps */ .t.startFps;\n        this.suspendGame = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)(() => {\n            this.running = false;\n        });\n        this.startGame = () => {\n            this.running = true;\n            this.tick();\n        };\n        this.tick = () => {\n            // render loop control\n            if (this.running) {\n                requestAnimationFrame(() => this.tick());\n                const now = Date.now();\n                const elapsed = now - this.lastFrameTime;\n                // render speed control\n                if (elapsed > this.frameInterval) {\n                    this.lastFrameTime = now - (elapsed % this.frameInterval);\n                    this.updatePlayerPosition(this.playerPosition, this.velocity);\n                }\n            }\n        };\n        this.updatePlayerPosition = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)(({ x: px, y: py }, { x: vx, y: vy }) => {\n            if (vx || vy) {\n                const newPlayerPosition = {\n                    x: px + vx,\n                    y: py + vy\n                };\n                if (newPlayerPosition.x < 0) {\n                    newPlayerPosition.x = this.gridSize - 1;\n                }\n                if (newPlayerPosition.x > this.gridSize - 1) {\n                    newPlayerPosition.x = 0;\n                }\n                if (newPlayerPosition.y < 0) {\n                    newPlayerPosition.y = this.gridSize - 1;\n                }\n                if (newPlayerPosition.y > this.gridSize - 1) {\n                    newPlayerPosition.y = 0;\n                }\n                this.playerPosition = newPlayerPosition;\n                this.trail = this.trail.concat(newPlayerPosition).slice(-this.tailSize);\n            }\n        });\n        this.setVelocity = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)((newVelocity) => {\n            this.velocity = newVelocity;\n        });\n        this.setTailSize = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)((tailSize) => {\n            this.tailSize = tailSize;\n        });\n        this.setFPS = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)((fps) => {\n            this.fps = fps;\n        });\n        this.setPlayerPosition = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)((newPlayerPosition) => {\n            this.playerPosition = newPlayerPosition;\n        });\n        this.getRandomPosition = () => ({\n            x: Math.floor(Math.random() * this.gridSize),\n            y: Math.floor(Math.random() * this.gridSize)\n        });\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n            playerPosition: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n            trail: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n            tailSize: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n            frameInterval: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n            score: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n            running: mobx__WEBPACK_IMPORTED_MODULE_0__.observable\n        });\n        // setup lazy observables\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.onBecomeObserved)(this, 'playerPosition', this.startGame);\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.onBecomeUnobserved)(this, 'playerPosition', this.suspendGame);\n    }\n    get frameInterval() {\n        return 1000 / this.fps;\n    }\n    get score() {\n        return this.tailSize - _gameConstants__WEBPACK_IMPORTED_MODULE_2__/* .CONSTANTS.startTailSize */ .t.startTailSize;\n    }\n}\n// all references should point to this singleton.\n// If store is accessed outside of useContext (e.g. outside of React) you need to use this instance (unless you want multiple stores)!\nconst GameStoreInstance = new GameStore();\nconst GameStoreContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(GameStoreInstance);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODk2LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1pY3JvLXNuYWtlL3BsdWdpbi13aWxkY2FyZC8uLi9zdG9yZS9zcmMvZ2FtZVN0b3JlLnRzPzZlNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBjb21wdXRlZCwgY29uZmlndXJlLCBtYWtlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgb25CZWNvbWVPYnNlcnZlZCwgb25CZWNvbWVVbm9ic2VydmVkIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnLi9nYW1lQ29uc3RhbnRzJztcbi8vIHdpdGhvdXQgY29uZmlndXJpbmcgZW5mb3JjZUFjdGlvbnMgaXQgd291bGQgYmUgcG9zc2libGUgdG8gbW9kaWZ5IGFueSBvYnNlcnZhYmxlIGZyb20gYW55d2hlcmVcbmNvbmZpZ3VyZSh7IGVuZm9yY2VBY3Rpb25zOiAnb2JzZXJ2ZWQnIH0pO1xuLy8gYmFzZSBjbGFzc1xuZXhwb3J0IGNsYXNzIEdhbWVTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSBDT05TVEFOVFMuZ3JpZFNpemU7XG4gICAgICAgIC8vIGluaXRpYWwgZ2FtZSBzdGF0ZSwgcGxheWVyIGlzIGNlbnRlcmVkIHdpdGggbm8gdmVsb2NpdHlcbiAgICAgICAgdGhpcy5wbGF5ZXJQb3NpdGlvbiA9IENPTlNUQU5UUy5zdGFydFBvc2l0aW9uO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFpbCA9IFtDT05TVEFOVFMuc3RhcnRQb3NpdGlvbl07XG4gICAgICAgIHRoaXMudGFpbFNpemUgPSBDT05TVEFOVFMuc3RhcnRUYWlsU2l6ZTtcbiAgICAgICAgLy8gaG91c2VrZWVwaW5nIHRvIGNvbnRyb2wgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICAvLyB1c2UgdG8gY29udHJvbCBmcHMgYW5kIHRoZXJlZm9yZSBnYW1lIHNwZWVkXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuZnBzID0gQ09OU1RBTlRTLnN0YXJ0RnBzO1xuICAgICAgICB0aGlzLnN1c3BlbmRHYW1lID0gYWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFydEdhbWUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHJlbmRlciBsb29wIGNvbnRyb2xcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy50aWNrKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgc3BlZWQgY29udHJvbFxuICAgICAgICAgICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcmFtZUludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdyAtIChlbGFwc2VkICUgdGhpcy5mcmFtZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJQb3NpdGlvbih0aGlzLnBsYXllclBvc2l0aW9uLCB0aGlzLnZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlUGxheWVyUG9zaXRpb24gPSBhY3Rpb24oKHsgeDogcHgsIHk6IHB5IH0sIHsgeDogdngsIHk6IHZ5IH0pID0+IHtcbiAgICAgICAgICAgIGlmICh2eCB8fCB2eSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BsYXllclBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBweCArIHZ4LFxuICAgICAgICAgICAgICAgICAgICB5OiBweSArIHZ5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UGxheWVyUG9zaXRpb24ueCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGxheWVyUG9zaXRpb24ueCA9IHRoaXMuZ3JpZFNpemUgLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3UGxheWVyUG9zaXRpb24ueCA+IHRoaXMuZ3JpZFNpemUgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BsYXllclBvc2l0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3UGxheWVyUG9zaXRpb24ueSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGxheWVyUG9zaXRpb24ueSA9IHRoaXMuZ3JpZFNpemUgLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3UGxheWVyUG9zaXRpb24ueSA+IHRoaXMuZ3JpZFNpemUgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BsYXllclBvc2l0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclBvc2l0aW9uID0gbmV3UGxheWVyUG9zaXRpb247XG4gICAgICAgICAgICAgICAgdGhpcy50cmFpbCA9IHRoaXMudHJhaWwuY29uY2F0KG5ld1BsYXllclBvc2l0aW9uKS5zbGljZSgtdGhpcy50YWlsU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFZlbG9jaXR5ID0gYWN0aW9uKChuZXdWZWxvY2l0eSkgPT4ge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ld1ZlbG9jaXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRUYWlsU2l6ZSA9IGFjdGlvbigodGFpbFNpemUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFpbFNpemUgPSB0YWlsU2l6ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0RlBTID0gYWN0aW9uKChmcHMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRQbGF5ZXJQb3NpdGlvbiA9IGFjdGlvbigobmV3UGxheWVyUG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUG9zaXRpb24gPSBuZXdQbGF5ZXJQb3NpdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UmFuZG9tUG9zaXRpb24gPSAoKSA9PiAoe1xuICAgICAgICAgICAgeDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5ncmlkU2l6ZSksXG4gICAgICAgICAgICB5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmdyaWRTaXplKVxuICAgICAgICB9KTtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgcGxheWVyUG9zaXRpb246IG9ic2VydmFibGUsXG4gICAgICAgICAgICB0cmFpbDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHRhaWxTaXplOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZnJhbWVJbnRlcnZhbDogY29tcHV0ZWQsXG4gICAgICAgICAgICBzY29yZTogY29tcHV0ZWQsXG4gICAgICAgICAgICBydW5uaW5nOiBvYnNlcnZhYmxlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzZXR1cCBsYXp5IG9ic2VydmFibGVzXG4gICAgICAgIG9uQmVjb21lT2JzZXJ2ZWQodGhpcywgJ3BsYXllclBvc2l0aW9uJywgdGhpcy5zdGFydEdhbWUpO1xuICAgICAgICBvbkJlY29tZVVub2JzZXJ2ZWQodGhpcywgJ3BsYXllclBvc2l0aW9uJywgdGhpcy5zdXNwZW5kR2FtZSk7XG4gICAgfVxuICAgIGdldCBmcmFtZUludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZnBzO1xuICAgIH1cbiAgICBnZXQgc2NvcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhaWxTaXplIC0gQ09OU1RBTlRTLnN0YXJ0VGFpbFNpemU7XG4gICAgfVxufVxuLy8gYWxsIHJlZmVyZW5jZXMgc2hvdWxkIHBvaW50IHRvIHRoaXMgc2luZ2xldG9uLlxuLy8gSWYgc3RvcmUgaXMgYWNjZXNzZWQgb3V0c2lkZSBvZiB1c2VDb250ZXh0IChlLmcuIG91dHNpZGUgb2YgUmVhY3QpIHlvdSBuZWVkIHRvIHVzZSB0aGlzIGluc3RhbmNlICh1bmxlc3MgeW91IHdhbnQgbXVsdGlwbGUgc3RvcmVzKSFcbmV4cG9ydCBjb25zdCBHYW1lU3RvcmVJbnN0YW5jZSA9IG5ldyBHYW1lU3RvcmUoKTtcbmV4cG9ydCBjb25zdCBHYW1lU3RvcmVDb250ZXh0ID0gY3JlYXRlQ29udGV4dChHYW1lU3RvcmVJbnN0YW5jZSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///896\n")},648:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "fN": () => (/* reexport safe */ _lazyPluginProvider__WEBPACK_IMPORTED_MODULE_2__.f),\n/* harmony export */   "tl": () => (/* reexport safe */ _gameConstants__WEBPACK_IMPORTED_MODULE_0__.t)\n/* harmony export */ });\n/* harmony import */ var _gameConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(460);\n/* harmony import */ var _gameStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(896);\n/* harmony import */ var _lazyPluginProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(626);\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWljcm8tc25ha2UvcGx1Z2luLXdpbGRjYXJkLy4uL3N0b3JlL3NyYy9pbmRleC50cz8zM2MzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vZ2FtZUNvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICcuL2dhbWVTdG9yZSc7XG5leHBvcnQgKiBmcm9tICcuL2xhenlQbHVnaW5Qcm92aWRlcic7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///648\n')},626:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "f": () => (/* binding */ LazyPluginProvider)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(927);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\nconst LazyPluginProvider = (_a) => {\n    var { Plugin, asyncLoad } = _a, rest = __rest(_a, ["Plugin", "asyncLoad"]);\n    const [gameStore, setGameStore] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(null);\n    react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(() => {\n        asyncLoad().then((module) => setGameStore(module.GameStoreInstance));\n    }, []);\n    return gameStore ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Plugin, Object.assign({ gameStore: gameStore }, rest)) : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI2LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BtaWNyby1zbmFrZS9wbHVnaW4td2lsZGNhcmQvLi4vc3RvcmUvc3JjL2xhenlQbHVnaW5Qcm92aWRlci50c3g/NGMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IGNvbnN0IExhenlQbHVnaW5Qcm92aWRlciA9IChfYSkgPT4ge1xuICAgIHZhciB7IFBsdWdpbiwgYXN5bmNMb2FkIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiUGx1Z2luXCIsIFwiYXN5bmNMb2FkXCJdKTtcbiAgICBjb25zdCBbZ2FtZVN0b3JlLCBzZXRHYW1lU3RvcmVdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYXN5bmNMb2FkKCkudGhlbigobW9kdWxlKSA9PiBzZXRHYW1lU3RvcmUobW9kdWxlLkdhbWVTdG9yZUluc3RhbmNlKSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBnYW1lU3RvcmUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFBsdWdpbiwgT2JqZWN0LmFzc2lnbih7IGdhbWVTdG9yZTogZ2FtZVN0b3JlIH0sIHJlc3QpKSA6IG51bGw7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///626\n')},705:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Teleport": () => (/* binding */ Teleport),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _micro_snake_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(654);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(189);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(927);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(641);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_konva__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst REDUCTION_AMOUNT = 2;\nconst REDUCTION_LENGTH = 5000;\nconst Teleport = (0,mobx_react__WEBPACK_IMPORTED_MODULE_1__.observer)(function ({ gameStore }) {\n    const { playerPosition, setFPS, getRandomPosition, setPlayerPosition } = gameStore;\n    const [teleportPosition, setPlumPosition] = react__WEBPACK_IMPORTED_MODULE_2___default().useState(getRandomPosition());\n    react__WEBPACK_IMPORTED_MODULE_2___default().useEffect(() => {\n        if (teleportPosition.x === playerPosition.x &&\n            teleportPosition.y === playerPosition.y) {\n            // move the teleport\n            setPlumPosition(getRandomPosition);\n            // teleport the player\n            setPlayerPosition(getRandomPosition());\n            // temporarily decrease speed for better survival odds\n            setFPS(gameStore.fps - REDUCTION_AMOUNT);\n            // eventually remove the speed buff\n            setTimeout(() => setFPS(gameStore.fps + REDUCTION_AMOUNT), REDUCTION_LENGTH);\n        }\n    }, [teleportPosition, playerPosition]);\n    const starSize = _micro_snake_engine__WEBPACK_IMPORTED_MODULE_0__/* .CONSTANTS.tileSize */ .tl.tileSize / 2;\n    return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Layer, null, react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Star, { innerRadius: starSize, numPoints: 5, outerRadius: starSize, offset: { x: -starSize, y: -starSize }, stroke: \'orange\', width: starSize, height: starSize, x: teleportPosition.x * _micro_snake_engine__WEBPACK_IMPORTED_MODULE_0__/* .CONSTANTS.gridSize */ .tl.gridSize, y: teleportPosition.y * _micro_snake_engine__WEBPACK_IMPORTED_MODULE_0__/* .CONSTANTS.gridSize */ .tl.gridSize })));\n});\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (() => react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_micro_snake_engine__WEBPACK_IMPORTED_MODULE_0__/* .LazyPluginProvider */ .fN, { Plugin: Teleport, asyncLoad: () => __webpack_require__.e(/* import() */ 700).then(__webpack_require__.t.bind(__webpack_require__, 700, 23)) }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BtaWNyby1zbmFrZS9wbHVnaW4td2lsZGNhcmQvLi9hcHAudHN4P2VjNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ09OU1RBTlRTLCBMYXp5UGx1Z2luUHJvdmlkZXIgfSBmcm9tICdAbWljcm8tc25ha2UvZW5naW5lJztcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnbW9ieC1yZWFjdCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGF5ZXIsIFN0YXIgfSBmcm9tICdyZWFjdC1rb252YSc7XG5jb25zdCBSRURVQ1RJT05fQU1PVU5UID0gMjtcbmNvbnN0IFJFRFVDVElPTl9MRU5HVEggPSA1MDAwO1xuY29uc3QgVGVsZXBvcnQgPSBvYnNlcnZlcihmdW5jdGlvbiAoeyBnYW1lU3RvcmUgfSkge1xuICAgIGNvbnN0IHsgcGxheWVyUG9zaXRpb24sIHNldEZQUywgZ2V0UmFuZG9tUG9zaXRpb24sIHNldFBsYXllclBvc2l0aW9uIH0gPSBnYW1lU3RvcmU7XG4gICAgY29uc3QgW3RlbGVwb3J0UG9zaXRpb24sIHNldFBsdW1Qb3NpdGlvbl0gPSBSZWFjdC51c2VTdGF0ZShnZXRSYW5kb21Qb3NpdGlvbigpKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodGVsZXBvcnRQb3NpdGlvbi54ID09PSBwbGF5ZXJQb3NpdGlvbi54ICYmXG4gICAgICAgICAgICB0ZWxlcG9ydFBvc2l0aW9uLnkgPT09IHBsYXllclBvc2l0aW9uLnkpIHtcbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIHRlbGVwb3J0XG4gICAgICAgICAgICBzZXRQbHVtUG9zaXRpb24oZ2V0UmFuZG9tUG9zaXRpb24pO1xuICAgICAgICAgICAgLy8gdGVsZXBvcnQgdGhlIHBsYXllclxuICAgICAgICAgICAgc2V0UGxheWVyUG9zaXRpb24oZ2V0UmFuZG9tUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAvLyB0ZW1wb3JhcmlseSBkZWNyZWFzZSBzcGVlZCBmb3IgYmV0dGVyIHN1cnZpdmFsIG9kZHNcbiAgICAgICAgICAgIHNldEZQUyhnYW1lU3RvcmUuZnBzIC0gUkVEVUNUSU9OX0FNT1VOVCk7XG4gICAgICAgICAgICAvLyBldmVudHVhbGx5IHJlbW92ZSB0aGUgc3BlZWQgYnVmZlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRGUFMoZ2FtZVN0b3JlLmZwcyArIFJFRFVDVElPTl9BTU9VTlQpLCBSRURVQ1RJT05fTEVOR1RIKTtcbiAgICAgICAgfVxuICAgIH0sIFt0ZWxlcG9ydFBvc2l0aW9uLCBwbGF5ZXJQb3NpdGlvbl0pO1xuICAgIGNvbnN0IHN0YXJTaXplID0gQ09OU1RBTlRTLnRpbGVTaXplIC8gMjtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF5ZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhciwgeyBpbm5lclJhZGl1czogc3RhclNpemUsIG51bVBvaW50czogNSwgb3V0ZXJSYWRpdXM6IHN0YXJTaXplLCBvZmZzZXQ6IHsgeDogLXN0YXJTaXplLCB5OiAtc3RhclNpemUgfSwgc3Ryb2tlOiAnb3JhbmdlJywgd2lkdGg6IHN0YXJTaXplLCBoZWlnaHQ6IHN0YXJTaXplLCB4OiB0ZWxlcG9ydFBvc2l0aW9uLnggKiBDT05TVEFOVFMuZ3JpZFNpemUsIHk6IHRlbGVwb3J0UG9zaXRpb24ueSAqIENPTlNUQU5UUy5ncmlkU2l6ZSB9KSkpO1xufSk7XG5leHBvcnQgeyBUZWxlcG9ydCB9O1xuZXhwb3J0IGRlZmF1bHQgKCgpID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eVBsdWdpblByb3ZpZGVyLCB7IFBsdWdpbjogVGVsZXBvcnQsIGFzeW5jTG9hZDogKCkgPT4gaW1wb3J0KCdlbmdpbmUvU3RvcmUnKSB9KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///705\n')}}]);